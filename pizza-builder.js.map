{"version":3,"file":"pizza-builder.js","sourceRoot":"","sources":["src/pizza-builder.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport {LitElement, html, css} from 'lit';\nimport {customElement} from 'lit/decorators.js';\nimport {repeat} from 'lit/directives/repeat.js';\n\nimport './pizza-option';\n\n@customElement('pizza-builder')\nexport class PizzaBuilder extends LitElement {\n  static override styles = css`\n    :host {\n      background-attachment: fixed;\n      background-image: url(/assets/images/pizza-background.png);\n      background-position: bottom;\n      background-repeat: no-repeat;\n      display: grid;\n      flex: 1 1 auto;\n      gap: 40px;\n      grid-template:\n        'name  options' auto\n        'pizza options' 1fr\n        / 33% 66%;\n      padding: 40px;\n    }\n\n    .Name {\n      grid-area: name;\n    }\n\n    .Pizza {\n      align-self: start;\n      display: grid;\n      grid-area: pizza;\n      position: sticky;\n      top: 80px;\n    }\n\n    @keyframes slideDown {\n      from {\n        transform: translateY(-200%);\n      }\n      to {\n        transform: translateY(0);\n      }\n    }\n\n    @keyframes slideUp {\n      from {\n        transform: translateY(100%);\n      }\n      to {\n        transform: translateY(0);\n      }\n    }\n\n    @keyframes fill {\n      from {\n        transform: scale(0.1);\n      }\n\n      to {\n        transform: scale(1);\n      }\n    }\n\n    @keyframes fall {\n      from {\n        transform: translateY(-150%) scale(2);\n      }\n      to {\n        transform: translateY(0) scale(1);\n      }\n    }\n\n    .Pizza > * {\n      aspect-ratio: 1;\n      grid-area: 1 / 1;\n      object-fit: contain;\n      transform: translateY(0);\n      width: 100%;\n    }\n\n    .Peel {\n      animation: slideUp 1s;\n      aspect-ratio: 6 / 15;\n      margin-bottom: -150%;\n    }\n\n    .Pizza\n      > :is([src*='pizzacrust' i], [src*='pizzabrownie' i], [src*='pizzagrahm' i]) {\n      animation: slideDown 0.6s;\n    }\n\n    .Pizza > :is([src*='choco' i], [src*='jello' i], [src*='pudding' i]) {\n      animation: fill 0.4s ease-in-out;\n    }\n\n    .Pizza\n      > :is([src*='gummibears' i], [src*='fruitloops' i], [src*='candycanes' i], [src*='donuts' i], [src*='lollipops' i]) {\n      animation: fall 0.3s cubic-bezier(0.5, 0, 1, 1);\n    }\n\n    .Options {\n      background-color: #fffd;\n      border: 1px solid #a3a3a3;\n      border-radius: 20px;\n      box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n      display: flex;\n      flex-direction: column;\n      gap: 1em;\n      grid-area: options;\n      padding: 40px;\n    }\n\n    .Footer {\n      background-color: #fffd;\n      backdrop-filter: blur(1px);\n      border-radius: 0 0 19px 19px;\n      border-top: 1px solid #a3a3a3;\n      bottom: 0;\n      display: flex;\n      margin: auto -40px -40px;\n      padding: 40px;\n      position: sticky;\n    }\n\n    .AddToCart {\n      background-color: #d94848;\n      border: 1px solid #d93131;\n      border-radius: 8px;\n      color: #fff;\n      display: flex;\n      flex: 0 0 auto;\n      flex-direction: row;\n      font-size: 20px;\n      gap: 16px;\n      margin-left: auto;\n      padding: 16px 32px;\n    }\n  `;\n\n  static override properties = {\n    cdnUrl: {},\n    product: {},\n    _selectedToppings: {state: true},\n  };\n\n  declare cdnUrl: string;\n  declare product: any;\n  private declare _selectedToppings: any;\n\n  constructor() {\n    super();\n\n    this._selectedToppings = {};\n  }\n\n  override render() {\n    const imgUrls = this._selectedToppingsToImgUrls();\n    return html`\n      <h1 class=\"Name\">${this.product.name}</h1>\n      <div class=\"Pizza\">\n        <svg class=\"Peel\" viewBox=\"0 0 6 15\">\n          <path\n            d=\"m0,3a3,3,0,0,1,6,0v2a1,1,0,0,1,-1,1h-1a0.5,0.5,0,0,0,-0.5,0.5v8a0.5,0.5,0,0,1,-1,0v-8a0.5,0.5,0,0,0,-0.5,-0.5h-1a1,1,0,0,1,-1,-1z\"\n            fill=\"goldenrod\"\n          />\n        </svg>\n        ${repeat(\n          imgUrls,\n          (url: string) => url,\n          (url: string) => html`<img src=${url} />`\n        )}\n      </div>\n      <div class=\"Options\">\n        <h2>Let's pick toppings!</h2>\n        ${this.product.optionGroups.map(\n          (og: any) => html`\n            <pizza-option\n              .og=${og}\n              @pizza-option-change=${this._handlePizzaOptionChange}\n            />\n          `\n        )}\n        <div class=\"Footer\">\n          <button\n            class=\"AddToCart\"\n            type=\"button\"\n            @click=${this._handleAddToCart}\n          >\n            Add to Cart\n          </button>\n        </div>\n      </div>\n    `;\n  }\n\n  _selectedToppingsToImgUrls() {\n    const toppings = this._selectedToppings;\n    const urls: string[] = [];\n\n    //Crust\n    if (toppings['Choose crust:']?.includes('Regular')) {\n      urls.push(`${this.cdnUrl}assets/images/Pizzacrust.png`);\n    }\n    if (toppings['Choose crust:']?.includes('Brownie')) {\n      urls.push(`${this.cdnUrl}assets/images/PizzaBrownie.png`);\n    }\n    if (toppings['Choose crust:']?.includes('Graham Cracker')) {\n      urls.push(`${this.cdnUrl}assets/images/PizzaGrahm.png`);\n    }\n\n    // Sauce\n    if (toppings['Sauce:']?.includes('Chocolate')) {\n      urls.push(`${this.cdnUrl}assets/images/choco.png`);\n    }\n    if (toppings['Sauce:']?.includes('Jello')) {\n      urls.push(`${this.cdnUrl}assets/images/jello.png`);\n    }\n    if (toppings['Sauce:']?.includes('Tapioca Pudding')) {\n      urls.push(`${this.cdnUrl}assets/images/pudding.png`);\n    }\n    // Toppings\n    if (toppings.Toppings?.includes('Gummy Bears')) {\n      urls.push(`${this.cdnUrl}assets/images/gummibears.png`);\n    }\n    if (toppings.Toppings?.includes('Fruit Loops')) {\n      urls.push(`${this.cdnUrl}assets/images/fruitloops.png`);\n    }\n    if (toppings.Toppings?.includes('Candy Canes')) {\n      urls.push(`${this.cdnUrl}assets/images/candycanes.png`);\n    }\n    if (toppings.Toppings?.includes('Donuts')) {\n      urls.push(`${this.cdnUrl}assets/images/donuts.png`);\n    }\n    if (toppings.Toppings?.includes('Lollipops')) {\n      urls.push(`${this.cdnUrl}assets/images/lollipops.png`);\n    }\n\n    return urls;\n  }\n\n  _handleAddToCart() {\n    this.dispatchEvent(\n      new CustomEvent('olo-add-to-cart', {\n        detail: this._selectedToppings,\n      })\n    );\n  }\n\n  _handlePizzaOptionChange(e: CustomEvent) {\n    // Update selected topping state\n    this._selectedToppings = {\n      ...this._selectedToppings,\n      [e.detail.og]: e.detail.values,\n    };\n  }\n}\n"]}